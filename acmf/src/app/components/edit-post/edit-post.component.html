<div 
  class="min-h-screen fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"
  *ngIf="showModal"
>
  <div 
    class="bg-white rounded-lg shadow-lg w-full max-w-lg p-6 max-h-[100vh] overflow-y-auto"
  >
    <h2 class="text-xl font-semibold mb-4">Edit Post</h2>

    <form [formGroup]="editForm" (ngSubmit)="onSave()" class="space-y-4">
      <!-- Title -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Title</label>
        <input type="text" formControlName="title"
          class="mt-1 block w-full border border-gray-300 rounded-md p-2"
        />
      </div>

      <!-- Body -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Body</label>
        <textarea formControlName="body"
          class="mt-1 block w-full border border-gray-300 rounded-md p-2"
          rows="4"
        ></textarea>
      </div>

      <!-- Tags -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Tags (comma-separated)</label>
        <input type="text" formControlName="tags"
          class="mt-1 block w-full border border-gray-300 rounded-md p-2"
        />
      </div>

      <!-- Type -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Type</label>
        <select formControlName="type"
          class="mt-1 block w-full border border-gray-300 rounded-md p-2"
        >
          <option value="GENERAL">General</option>
          <option value="ACADEMIC">Academic</option>
          <option value="OPPORTUNITY">Opportunity</option>
          <option value="RESOURCE">Resource</option>
        </select>
      </div>

      <!-- File URL (readonly) -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Image Preview</label>
        <img 
          *ngIf="editForm.value.fileUrl" 
          [src]="editForm.value.fileUrl" 
          alt="Post Image" 
          class="w-full max-h-64 object-contain rounded-md border border-gray-300"
        />
        <p *ngIf="!editForm.value.fileUrl" class="text-gray-500 italic">No image uploaded</p>
      </div>
      

      <!-- File Upload -->
      <div>
        <label class="block text-sm font-medium text-gray-700">Upload File</label>
        <input 
          type="file" 
          accept="image/*"
          (change)="onFileSelected($event)" 
          class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4
                 file:rounded-md file:border-0 file:text-sm file:font-semibold
                 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
        />
      </div>

      <!-- Actions -->
      <div class="flex justify-end gap-3">
        <button type="button" (click)="onClose()" class="px-4 py-2 bg-gray-200 rounded-md">Cancel</button>
        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md">Save</button>
      </div>
    </form>
  </div>
</div>
