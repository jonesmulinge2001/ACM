<div
  class="max-w-4xl mx-auto mt-10 bg-white rounded-2xl shadow-lg overflow-hidden"
>
  <!-- Cover Photo -->
  <div class="relative h-48 bg-gray-200">
    <label
      class="bg-gradient-to-r from-blue-500 to-purple-500 absolute top-4 right-4 p-2 rounded-full shadow cursor-pointer"
    >
      <input
        type="file"
        (change)="onCoverPhotoSelected($event)"
        class="hidden"
      />
      <span class=" text-sm text-white font-medium">Change Cover</span>
    </label>
    <img
      *ngIf="coverPreview"
      [src]="coverPreview"
      class="absolute inset-0 w-full h-full object-cover"
    />
  </div>

  <!-- Profile Content -->
  <div class="p-6">
    <!-- Profile Image Upload -->
    <div class="flex items-center -mt-16 space-x-4 mb-6">
      <div class="relative w-24 h-24">
        <img
          *ngIf="profilePreview"
          [src]="profilePreview"
          class="w-24 h-24 rounded-full object-cover border-4 border-white shadow"
        />
        <div
          *ngIf="!profilePreview"
          class="w-24 h-24 bg-gray-300 rounded-full"
        ></div>
        <label
          class="absolute bottom-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full p-1 cursor-pointer shadow"
        >
          <input
            type="file"
            (change)="onProfileImageSelected($event)"
            class="hidden"
          />
          <span class="text-xs">Edit</span>
        </label>
      </div>
      <div>
        <h3 class="text-sm mt-6 font-semibold">Upload Your Profile Photo</h3>
        <p class="text-xs text-gray-500">Less than 2MB</p>
      </div>
    </div>

    <!-- Form Starts -->
    <form
      [formGroup]="profileForm"
      (ngSubmit)="onSubmit()"
      class="grid grid-cols-1 md:grid-cols-2 gap-6"
    >
      <!-- Full Name -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Full Name</label
        >
        <input
          formControlName="name"
          type="text"
          placeholder="Natesy"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Institution -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Institution</label
        >
        <select
          formControlName="institutionId"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="" disabled selected>Select your institution</option>
          <option *ngFor="let inst of institutions" [value]="inst.id">
            {{ inst.name }}
          </option>
        </select>
      </div>

      <!-- Academic Level -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Education Level</label
        >
        <input
          formControlName="academicLevel"
          type="text"
          placeholder="year 2"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Skills -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Skills</label
        >
        <input
          formControlName="skills"
          type="text"
          placeholder="Public speaking, AI, Tutoring"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Skills -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >Interests</label
        >
        <input
          formControlName="interests"
          type="text"
          placeholder="Math, Music, Travelling"
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Bio (Full width) -->
      <div class="md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-1">Bio</label>
        <textarea
          formControlName="bio"
          rows="4"
          placeholder="Write a short bio about yourself..."
          class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        ></textarea>
      </div>

      <!-- Submit Button (Full width) -->
      <div class="md:col-span-2 flex justify-end">
        <button
          type="submit"
          [disabled]="profileForm.invalid"
          class="bg-gradient-to-r from-blue-500 to-purple-500 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition duration-200"
        >
          Save Profile
        </button>
      </div>
    </form>
  </div>
</div>